# 📌 학교 현황 게시판

Google Sheets와 연동되어 실시간으로 자동 새로고침되는 학교 현황 게시판입니다.

## ✨ 주요 기능

- ✅ Google Sheets 데이터 실시간 표시
- ✅ 자동 새로고침 (기본 10초마다)
- ✅ 수동 새로고침 버튼
- ✅ 표 형식 / 카드 형식 자동 선택
- ✅ 반응형 디자인 (모바일/태블릿/PC 지원)
- ✅ 깔끔하고 모던한 UI

## 🚀 빠른 시작 가이드

### 1단계: Google Sheets 준비

1. Google Sheets에서 새 스프레드시트 만들기
2. 데이터 입력 예시:

**방법 A: 표 형식 (추천)**
```
제목        | 내용              | 날짜          | 상태
----------- | ----------------- | ------------- | --------
오늘의 급식 | 김치찌개, 불고기  | 2025-11-23    | 제공중
공지사항    | 기말고사 일정 공지 | 2025-11-20    | 중요
```

**방법 B: 카드 형식**
```
제목
내용
추가 정보
---
제목2
내용2
```

3. 스프레드시트 URL에서 **SHEET_ID** 확인
   - URL: `https://docs.google.com/spreadsheets/d/`**`1ABC...XYZ`**`/edit`
   - SHEET_ID는 `/d/` 다음에 나오는 긴 문자열입니다

### 2단계: Google Sheets API 활성화 및 API 키 발급

#### 방법 1: Google Cloud Console (추천)

1. [Google Cloud Console](https://console.cloud.google.com/) 접속
2. 프로젝트 생성 (이미 있다면 선택)
   - 상단의 프로젝트 선택 → "새 프로젝트" 클릭
   - 프로젝트 이름 입력 (예: "학교현황게시판")
3. Google Sheets API 활성화
   - 왼쪽 메뉴 → "API 및 서비스" → "라이브러리"
   - "Google Sheets API" 검색
   - 클릭 후 "사용" 버튼 클릭
4. API 키 생성
   - 왼쪽 메뉴 → "API 및 서비스" → "사용자 인증 정보"
   - 상단 "사용자 인증 정보 만들기" → "API 키" 선택
   - API 키 복사 (예: `AIzaSyC...abc123`)
5. API 키 제한 설정 (선택사항, 보안 강화)
   - 생성된 API 키 옆 연필 아이콘 클릭
   - "API 제한사항" → "키 제한" 선택
   - "Google Sheets API"만 선택

#### 방법 2: 간단한 방법

1. [Google Developers Console](https://console.developers.google.com/) 접속
2. 프로젝트 만들기
3. "Enable APIs and Services" 클릭
4. "Google Sheets API" 검색 후 활성화
5. "Credentials" → "Create Credentials" → "API key"

### 3단계: Google Sheets 공개 설정

**중요**: API로 데이터를 읽으려면 시트를 공개해야 합니다.

1. Google Sheets에서 오른쪽 상단 "공유" 버튼 클릭
2. "일반 액세스" 섹션에서 "제한됨" → **"링크가 있는 모든 사용자"** 변경
3. 권한: **"뷰어"** 선택 (편집 권한은 필요 없음)
4. "완료" 클릭

> 💡 **팁**: 학교 내부에서만 사용하려면 "고운고등학교" 조직 내에서만 공유하도록 설정할 수 있습니다.

### 4단계: 설정 파일 수정

`app.js` 파일을 열고 상단의 CONFIG 섹션을 수정합니다:

```javascript
const CONFIG = {
    // 2단계에서 복사한 SHEET_ID 입력
    SHEET_ID: '1ABC...XYZ',
    
    // 3단계에서 발급받은 API 키 입력
    API_KEY: 'AIzaSyC...abc123',
    
    // 읽을 시트 범위 (시트 이름만 또는 범위 지정)
    SHEET_RANGE: 'Sheet1',  // 또는 'Sheet1!A1:D10'
    
    // 새로고침 간격 (밀리초)
    REFRESH_INTERVAL: 10000  // 10초
};
```

### 5단계: 실행

1. `index.html` 파일을 웹 브라우저로 열기
   - 더블클릭하거나
   - 브라우저로 드래그하거나
   - Live Server 확장 프로그램 사용 (VS Code)

2. 정상 작동 확인
   - Google Sheets의 데이터가 화면에 표시되어야 함
   - 10초마다 자동으로 새로고침됨

## 📊 Google Sheets 데이터 형식 가이드

### 형식 1: 표 형식 (여러 열)

첫 번째 행을 헤더로 사용하여 표로 표시됩니다.

| 제목 | 내용 | 날짜 | 상태 |
|------|------|------|------|
| 급식 메뉴 | 김치찌개, 불고기, 밥 | 2025-11-23 | 제공중 |
| 공지사항 | 기말고사 2주 전 | 2025-11-20 | 중요 |
| 행사 일정 | 체육대회 | 2025-11-25 | 예정 |

### 형식 2: 카드 형식 (단일 열 또는 2열)

각 행이 하나의 카드로 표시됩니다.

| 제목 | 내용 |
|------|------|
| 오늘의 급식 | 김치찌개, 불고기, 밥, 김치 |
| 중요 공지 | 내일은 체육대회가 있습니다 |
| 날씨 정보 | 맑음, 최고 기온 15도 |

### 형식 3: 단순 목록

| 내용 |
|------|
| 1교시: 국어 |
| 2교시: 영어 |
| 3교시: 수학 |

## ⚙️ 설정 커스터마이징

### 새로고침 간격 변경

`app.js`의 `REFRESH_INTERVAL` 값 수정:

```javascript
REFRESH_INTERVAL: 5000   // 5초
REFRESH_INTERVAL: 30000  // 30초
REFRESH_INTERVAL: 60000  // 1분
```

### 시트 범위 지정

특정 범위만 읽고 싶을 때:

```javascript
SHEET_RANGE: 'Sheet1!A1:D10'  // A1부터 D10까지만
SHEET_RANGE: 'Sheet1!A:B'     // A, B 열 전체
SHEET_RANGE: '공지사항'        // "공지사항" 시트 전체
```

### 여러 시트 사용하기

각 시트별로 별도의 HTML 파일을 만들거나, `app.js`를 복사하여 다른 설정으로 사용할 수 있습니다.

## 🎨 디자인 커스터마이징

`style.css` 파일에서 색상, 폰트, 레이아웃 등을 수정할 수 있습니다.

### 색상 테마 변경

```css
/* 메인 그라디언트 색상 */
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);

/* 원하는 색상으로 변경 예시 */
background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);  /* 핑크 테마 */
background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);  /* 블루 테마 */
background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);  /* 그린 테마 */
```

## 🌐 웹 서버에 배포하기

### GitHub Pages (무료)

1. GitHub 저장소 생성
2. 파일 업로드
3. Settings → Pages → Source: main branch 선택
4. 공개 URL로 접속

### Google Sites

1. Google Sites에서 새 사이트 생성
2. "삽입" → "HTML 삽입" 선택
3. 전체 HTML 코드 붙여넣기

### 학교 웹 서버

학교 웹 서버가 있다면 FTP로 파일 업로드 후 접속

## 🔒 보안 및 주의사항

### API 키 보호

- API 키는 공개 저장소에 올리지 마세요
- API 키 제한 설정을 통해 특정 웹사이트에서만 사용하도록 제한 가능
- 환경 변수 또는 별도 설정 파일로 관리 권장

### Google Sheets 공개 범위

- 민감한 정보는 공개 시트에 올리지 마세요
- 가능하면 조직 내부로만 공유 설정
- 뷰어 권한만 부여 (편집 권한 X)

## 🐛 문제 해결

### "데이터를 불러올 수 없습니다" 오류

1. **API 키 확인**
   - API 키가 올바르게 입력되었는지 확인
   - Google Cloud Console에서 API 키가 활성화되어 있는지 확인

2. **SHEET_ID 확인**
   - URL에서 올바른 ID를 복사했는지 확인
   - 따옴표 안에 정확히 입력되었는지 확인

3. **시트 공개 설정 확인**
   - "링크가 있는 모든 사용자"로 공유되었는지 확인
   - 최소한 "뷰어" 권한이 있는지 확인

4. **브라우저 콘솔 확인**
   - F12 키를 눌러 개발자 도구 열기
   - Console 탭에서 오류 메시지 확인

### 데이터가 표시되지 않음

1. **시트에 데이터가 있는지 확인**
2. **SHEET_RANGE가 올바른지 확인**
3. **브라우저를 새로고침**

### 자동 새로고침이 작동하지 않음

1. **브라우저가 백그라운드에서 탭을 일시중지하는지 확인**
2. **REFRESH_INTERVAL 값 확인**
3. **콘솔에서 JavaScript 오류 확인**

## 📱 모바일에서 사용하기

이 게시판은 반응형 디자인으로 제작되어 모바일, 태블릿, PC 모두에서 잘 작동합니다.

- 스마트폰 브라우저에서 URL 접속
- 홈 화면에 추가하여 앱처럼 사용 가능

## 💡 활용 예시

### 1. 급식 현황판
```
급식 종류 | 메뉴 | 알레르기 정보
오늘 점심 | 김치찌개, 불고기 | 대두, 돼지고기
```

### 2. 학급 공지사항
```
제목 | 내용 | 날짜
수행평가 일정 | 다음 주 월요일 실시 | 2025-11-23
체육대회 | 11월 25일 운동장 | 2025-11-20
```

### 3. 시간표
```
교시 | 월 | 화 | 수 | 목 | 금
1교시 | 국어 | 영어 | 수학 | 과학 | 사회
2교시 | 수학 | 국어 | 영어 | 체육 | 음악
```

### 4. 실시간 출결 현황
```
학급 | 출석 | 지각 | 결석 | 현재시각
1-1 | 28 | 1 | 1 | 09:00
1-2 | 30 | 0 | 0 | 09:00
```

## 🎯 다음 단계

이 기본 버전이 잘 작동한다면, 다음과 같은 기능을 추가할 수 있습니다:

- [ ] 여러 시트를 탭으로 전환하는 기능
- [ ] 검색 기능
- [ ] 필터링 기능
- [ ] 관리자 로그인 기능
- [ ] 푸시 알림 기능
- [ ] 댓글 기능
- [ ] 차트 및 통계 표시

## 📞 문의 및 지원

문제가 발생하거나 추가 기능이 필요하면 언제든지 문의하세요!

---

**만든 날짜**: 2025-11-23  
**버전**: 1.0.0  
**라이선스**: MIT

